<!--pages/create/create.wxml-->
<view>
  <view wx:if="{{!userInfo.id}}">
    <button type="primary" open-type="getUserInfo" bindgetuserinfo="userInfoHandler">log in to create a trip</button>
  </view>

  
   <view wx:else> 
    <form bindsubmit="formSubmit">
     <text>Edit your trip here!</text>
      <!-- subject -->
          <view class="weui-cells__title">Trip name</view>
                <view class="weui-cells weui-cells_after-title">
                    <view class="weui-cell weui-cell_active">
                        <view class="weui-cell__bd">
                            <input name="title" class="weui-input" placeholder="Share your trip name"/>
                        </view>
                    </view>
              </view>
              <view class="weui-cell weui-cell_active">
                <view class="weui-cell__hd">
                    <view class="weui-label">Location:</view>
                    <view class="weui-cell__bd">
                    <picker bindchange="bindPickerChangeLocation" value="{{index}}" range="{{provinceOptions}}">
                      <a class="weui-btn weui-btn_default">location</a> 
                    </picker>
                </view>
                </view>
              
            </view>
      
      <!-- trip details -->
          <view class="weui-cells__title">Trip details</view>
            <view class="weui-cells weui-cells_after-title">
                <view class="weui-cell weui-cell_active">
                    <view class="weui-cell__bd">
                        <textarea name="tripDetail" class="weui-textarea" placeholder="Share more about your trip!" style="height: 3.3em" />
                        <view class="weui-textarea-counter">0/200</view>
                    </view>
                </view>
            </view>

      <!-- select location - city name -->
        <view>
          <picker bindchange="bindPickerChangeTripType" value="{{index}}" range="{{tripTypeOptions}}">
                     <a class="weui-btn weui-btn_default">Trip Type</a> 
                    </picker>
        </view>
      <!-- trip start date -->
      <view class="weui-cells__title">Trip datails:</view>
        <view class="weui-cells weui-cells_after-title">
            <view class="weui-cell weui-cell_active">
                <view class="weui-cell__hd">
                    <view class="weui-label">Starting date:</view>
                </view>
                <view class="weui-cell__bd">
                    <picker mode="date" value="{{date}}" start="2015-09-01" end="2017-09-01" bindchange="bindDateChangeStart">
                        <view class="weui-input">{{date}}</view>
                    </picker>
                </view>
            </view>
            <view class="weui-cell weui-cell_active">
                <view class="weui-cell__hd">
                    <view class="weui-label">Ending date:</view>
                </view>
                <view class="weui-cell__bd">
                    <picker mode="date" value="{{date}}" start="2015-09-01" end="2017-09-01" bindchange="bindDateChangeEnd">
                        <view class="weui-input">{{date}}</view>
                    </picker>
                </view>
            </view>
            <!-- <view class="weui-cell weui-cell_active">
                <view class="weui-cell__hd">
                    <view class="weui-label">Trip type:</view>
                </view>
            </view> -->
            <view class="weui-cell weui-cell_active">
                <view class="weui-cell__hd">
                    <view class="weui-label">Estimated cost:</view>
                </view>
                <view class="weui-cell__bd">
                    <input type="number" name="costEst" class="weui-input" placeholder="500"/>
                </view>
            </view>
        </view>

  <!-- choose picture  -->
        <view class="page__bd">
              <view class="weui-cells">
                  <view class="weui-cell">
                      <view class="weui-cell__bd">
                          <view class="weui-uploader">
                              <view class="weui-uploader__hd">
                                <view class="weui-uploader__overview">
                                    <view class="weui-uploader__title">Upload pictures here</view>
                                    <view class="weui-uploader__info">{{files.length}}/2</view>
                                </view>
                                <!-- <view class="weui-uploader__tips">
                                  上传提示
                                </view> -->
                              </view>
                              <view class="weui-uploader__bd">
                                  <view class="weui-uploader__files" id="uploaderFiles">
                                      <block wx:for="{{files}}" wx:key="*this">
                                          <view class="weui-uploader__file" bindtap="previewImage" id="{{item}}">
                                              <image class="weui-uploader__img" src="{{item}}" mode="aspectFill" />
                                          </view>
                                      </block>
                                      <view class="weui-uploader__file">
                                          <image class="weui-uploader__img" src="../images/pic_160.png" mode="aspectFill" />
                                      </view>
                                      <view class="weui-uploader__file">
                                          <image class="weui-uploader__img" src="../images/pic_160.png" mode="aspectFill" />
                                      </view>
                                      <view class="weui-uploader__file weui-uploader__file_status">
                                          <image class="weui-uploader__img" src="../images/pic_160.png" mode="aspectFill" />
                                          <view class="weui-uploader__file-content">
                                            <view class="weui-loading"></view>
                                          </view>
                                      </view>
                                      <view class="weui-uploader__file weui-uploader__file_status">
                                          <image class="weui-uploader__img" src="../images/pic_160.png" mode="aspectFill" />
                                          <view class="weui-uploader__file-content">
                                              <icon type="warn" size="23" color="#F43530"></icon>
                                          </view>
                                      </view>
                                      <view class="weui-uploader__file weui-uploader__file_status">
                                          <image class="weui-uploader__img" src="../images/pic_160.png" mode="aspectFill" />
                                          <view class="weui-uploader__file-content">50%</view>
                                      </view>
                                  </view>
                                  <view class="weui-uploader__input-box">
                                      <view class="weui-uploader__input" bindtap="chooseImage"></view>
                                  </view>
                              </view>
                          </view>
                      </view>
                  </view>
              </view>
          </view>
     <button class="buttonPinkSmall" form-type="submit" bindtap="goBackToProfile">Submit</button>
  <!-- end of wx eles  -->
    </form>
  </view> 
</view>
